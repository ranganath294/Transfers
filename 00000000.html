// Modify the pagination controls creation section in renderCRVerificationInCumulativeTable

// Create a container for entries dropdown and pagination
const paginationContainer = document.createElement('div');
paginationContainer.className = 'row align-items-center mt-3 mb-3';

// Create column for entries per page dropdown
const entriesCol = document.createElement('div');
entriesCol.className = 'col-12 col-md-4 mb-2 mb-md-0';

const entriesWrapper = document.createElement('div');
entriesWrapper.className = 'd-flex align-items-center';

const entriesLabel = document.createElement('label');
entriesLabel.className = 'me-2 text-nowrap';
entriesLabel.textContent = 'Show entries:';

const entriesDropdown = document.createElement('select');
entriesDropdown.className = 'form-select form-select-sm w-auto';
[25, 50, 100].forEach(value => {
    const option = document.createElement('option');
    option.value = value;
    option.textContent = value;
    if (value === 25) option.selected = true;
    entriesDropdown.appendChild(option);
});

entriesWrapper.appendChild(entriesLabel);
entriesWrapper.appendChild(entriesDropdown);
entriesCol.appendChild(entriesWrapper);

// Create column for entries info
const infoCol = document.createElement('div');
infoCol.className = 'col-12 col-md-4 text-center mb-2 mb-md-0';

const entriesInfo = document.createElement('div');
entriesInfo.className = 'entries-info text-muted';
entriesInfo.style.fontSize = '0.9rem';
infoCol.appendChild(entriesInfo);

// Create column for pagination buttons
const paginationCol = document.createElement('div');
paginationCol.className = 'col-12 col-md-4';

const paginationNav = document.createElement('nav');
paginationNav.setAttribute('aria-label', 'Table navigation');

const paginationList = document.createElement('ul');
paginationList.className = 'pagination pagination-sm justify-content-center justify-content-md-end mb-0';

// Previous button
const prevListItem = document.createElement('li');
prevListItem.className = 'page-item';
const prevButton = document.createElement('button');
prevButton.className = 'page-link prev-page';
prevButton.innerHTML = '&laquo; Previous';
prevListItem.appendChild(prevButton);

// Page numbers container
const pageNumbersItem = document.createElement('li');
pageNumbersItem.className = 'page-item';
const pageNumbers = document.createElement('div');
pageNumbers.className = 'page-numbers d-flex';
pageNumbersItem.appendChild(pageNumbers);

// Next button
const nextListItem = document.createElement('li');
nextListItem.className = 'page-item';
const nextButton = document.createElement('button');
nextButton.className = 'page-link next-page';
nextButton.innerHTML = 'Next &raquo;';
nextListItem.appendChild(nextButton);

paginationList.appendChild(prevListItem);
paginationList.appendChild(pageNumbersItem);
paginationList.appendChild(nextListItem);

paginationNav.appendChild(paginationList);
paginationCol.appendChild(paginationNav);

// Append all columns to the container
paginationContainer.appendChild(entriesCol);
paginationContainer.appendChild(infoCol);
paginationContainer.appendChild(paginationCol);

// Add styles
const paginationStyles = document.createElement('style');
paginationStyles.textContent = `
    .page-link {
        padding: 0.375rem 0.75rem;
        color: #328AA4;
        background-color: #fff;
        border: 1px solid #dee2e6;
        transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out;
    }
    
    .page-link:hover {
        color: #fff;
        background-color: #328AA4;
        border-color: #328AA4;
    }
    
    .page-item.active .page-link {
        background-color: #328AA4;
        border-color: #328AA4;
        color: #fff;
    }
    
    .page-item.disabled .page-link {
        color: #6c757d;
        pointer-events: none;
        background-color: #fff;
        border-color: #dee2e6;
    }
    
    .page-numbers .page-link {
        margin: 0 2px;
    }
    
    @media (max-width: 768px) {
        .entries-info {
            margin: 10px 0;
        }
        
        .pagination {
            flex-wrap: wrap;
            justify-content: center;
        }
    }
`;

document.head.appendChild(paginationStyles);

// Replace the existing pagination controls with the new container
buttonContainer.appendChild(paginationContainer);