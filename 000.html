<div id="teamFilters" style="display: none;" class="mb-3">
    <div class="btn-group" role="group" aria-label="Test Team filters">
        <input type="radio" class="btn-check team-filter" name="team-filter" id="all" value="all" checked>
        <label class="btn btn-outline-primary" for="all">All Teams</label>
        
        <input type="radio" class="btn-check team-filter" name="team-filter" id="bt" value="BT">
        <label class="btn btn-outline-primary" for="bt">BT</label>
        
        <input type="radio" class="btn-check team-filter" name="team-filter" id="wlan" value="WLAN">
        <label class="btn btn-outline-primary" for="wlan">WLAN</label>
    </div>
</div>






// Handle team filter changes
teamFilters.forEach(filter => {
    filter.addEventListener('change', (e) => {
        selectedTeams = [e.target.value];
        if (tableData) {
            renderTable();
        }
    });
});





team.phases.forEach((phase, phaseIndex) => {
    const coverageTypes = phase.coverage_types || [{
        coverage_type: '',
        metrics: phase.metrics
    }];
    
    let isFirstCoverageType = true;
    coverageTypes.forEach((coverageData, typeIndex) => {
        let row = document.createElement('tr');
        row.className = 'phase-row';
        row.setAttribute('data-row-index', rowCounter++);
        row.setAttribute('data-sp-index', spIndex);
        row.setAttribute('data-team-index', teamIndex);
        row.setAttribute('data-team', team.team_name);
        row.setAttribute('data-phase', phase.phase);
        row.setAttribute('data-sp-name', spData.sp_name);
        
        // Add SP Name cell with appropriate rowspan
        if (firstSpRow) {
            let spCell = document.createElement('td');
            spCell.rowSpan = spTotalRows;
            spCell.innerHTML = `
                <a href="/sp-execution-data?sp=${spData.sp_name}" target="_blank">
                    ${spData.sp_name}
                </a>
            `;
            spCell.setAttribute('data-sp-cell', 'true');
            row.appendChild(spCell);
            firstSpRow = false;
        }
        
        // Add Team Name cell with appropriate rowspan
        if (firstTeamRow) {
            let teamCell = document.createElement('td');
            teamCell.rowSpan = teamTotalRows;
            teamCell.textContent = team.team_name;
            teamCell.setAttribute('data-team-cell', 'true');
            row.appendChild(teamCell);
            firstTeamRow = false;
        }
        
        // Add Date cell with appropriate rowspan
        if (isFirstCoverageType) {
            let dateCell = document.createElement('td');
            dateCell.rowSpan = coverageTypes.length;
            dateCell.textContent = phase.date;
            row.appendChild(dateCell);
        }
        
        // Add Phase cell with appropriate rowspan if first coverage type
        if (typeIndex === 0) {
            let phaseCell = document.createElement('td');
            phaseCell.rowSpan = coverageTypes.length;
            phaseCell.textContent = phase.phase;
            row.appendChild(phaseCell);
        }
        
        // Rest of the cells...
        row.insertAdjacentHTML('beforeend', `
            <td>${coverageData.coverage_type}</td>
            ${createValueCell(coverageData.metrics.total, `${spData.sp_name} ${team.team_name} ${phase.phase} ${coverageData.coverage_type} Total ${coverageData.metrics.total}`)}
            // ... rest of the metrics cells ...
        `);
        
        tableBody.appendChild(row);
        isFirstCoverageType = false;
    });
});