.coverage-table {
    border-collapse: collapse;
    width: 100%;
    margin: 20px 0;
    table-layout: auto;  /* Allow columns to size based on content */
    border: 1px solid black;
}

.coverage-table th,
.coverage-table td {
    border: 1px solid black;
    padding: 8px;
    text-align: left;
    font-size: 15px;
    color: black;
    white-space: nowrap;  /* Prevent wrapping in data cells */
}

.coverage-table th {
    background-color: #328AA4;
    font-weight: bold;
    color: white;
    position: relative;
    white-space: normal;  /* Allow header text to wrap */
    word-wrap: break-word;  /* Break long words if necessary */
    min-width: 50px;  /* Minimum width for columns */
    max-width: 150px;  /* Maximum width for headers */
    overflow: hidden;
    text-overflow: ellipsis;  /* Show ellipsis for overflowing header text */
}

.coverage-table tbody tr:nth-child(even) {
    background-color: #f9f9f9;
}

/* Add horizontal scrolling for the table container if needed */
.table-responsive {
    overflow-x: auto;
    max-width: 100%;
}






function adjustColumnWidths() {
    const table = document.querySelector('.coverage-table');
    if (!table) return;

    // Reset any previously set widths
    const cells = table.querySelectorAll('th, td');
    cells.forEach(cell => cell.style.width = '');

    // Let the browser render the table first
    setTimeout(() => {
        const headerCells = table.querySelectorAll('th');
        const bodyCells = Array.from(table.querySelectorAll('tbody tr:first-child td'));

        // Calculate maximum width needed for data cells in each column
        bodyCells.forEach((cell, index) => {
            const columnCells = Array.from(table.querySelectorAll(`tbody td:nth-child(${index + 1})`));
            const maxWidth = Math.max(...columnCells.map(cell => cell.offsetWidth));
            
            // Set width based on data content
            columnCells.forEach(cell => cell.style.width = `${maxWidth}px`);
            if (headerCells[index]) {
                headerCells[index].style.width = `${maxWidth}px`;
            }
        });
    }, 0);
}







function renderCumulativeTable(data, targetElementId) {
    // ... existing rendering code ...

    // After appending the table
    const targetElement = document.getElementById(targetElementId);
    targetElement.innerHTML = '';
    targetElement.appendChild(table);
    
    // Adjust column widths
    adjustColumnWidths();
}
